- project:
    name: hello-jenkins
    project: '{name}'
    stream:
        - master:
            branch: {stream}
    jobs:
        - '{name}-{stream}'

- job-template:
    name: '{name}-{stream}'
    builders:
        - shell: |
            #!/bin/bash -xe
            echo 'jjb publiser practice'
    #        exit 1
    scm:
#        - scm-gerrit:
#            GIT_BASE: https://github.com/SerenaFeng/hello-php.git
        - scm-gerrit
#            GIT_BASE: https://github.com/SerenaFeng/hello-jenkins.git
    parameters:
        - string:
            name: GIT_BASE
            default: https://github.com/SerenaFeng/hello-jenkins.git
            description: 'hello-jenkins github'
    publishers:
        - email-on-failure:
            recipients: $DEFAULT_RECIPIENTS, feng.xiaowei@zte.com.cn
            content-type: text
            body: 'tests failure'
        - email-on-success:
            recipients: $DEFAULT_RECIPIENTS
            content-type: text
            body: 'tests success'

