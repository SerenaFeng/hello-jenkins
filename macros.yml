- scm:
    name: scm-gerrit
    scm:
        - git: &git-scm-defaults
            credentials-id: test_scm_id
            url: '$GIT_BASE'
            branches:
                - 'origin/master'
            timeout: 15

- scm:
    name: git-scm-gerrit
    scm:
        - git:
            choosing-strategy: 'gerrit'
            refspec: '$GERRIT_REFSPEC'
            <<: *git-scm-defaults


- publisher:
    name: email-on-failure
    publishers:
        - email-ext:
            recipients: '{recipients}'
            body: '{body}'
            content-type: '{content-type}'
            always: false
            failure: true
            send-to:
                - recipients

- publisher:
    name: email-on-success
    publishers:
        - email-ext:
            recipients: '{recipients}'
            body: '{body}'
            content-type: '{content-type}'
            always: false
            failure: false
            success: true
            send-to:
                - recipients

